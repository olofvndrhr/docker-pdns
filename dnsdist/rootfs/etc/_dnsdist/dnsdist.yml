acl:
  - "0.0.0.0/0"
  - "::/0"

security_polling:
  suffix: ""

binds:
  - listen_address: "0.0.0.0:53"
    protocol: "Do53"
    reuseport: true

  - listen_address: "[::]:53"
    protocol: "Do53"
    reuseport: true

load_balancing_policies:
  default_policy: "wrandom"

packet_caches:
  - name: "cache"
    size: 100

pools:
  - name: "default"
    packet_cache: "cache"

backends:
  - address: "127.0.0.1:53"
    protocol: "Do53"
    name: "local-recursor"
    tcp_only: true
    weight: 100
    pools:
      - "default"
    health_checks:
      qname: "a.root-servers.net."
      qtype: "AAAA"
      qclass: "IN"
      must_resolve: true

query_rules:
  - name: "default route"
    selector:
      type: "All"
    action:
      type: "Pool"
      pool_name: "default"
